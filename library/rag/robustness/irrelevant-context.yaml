id: "rag.robustness.irrelevant-context.026"
version: "1.0.0"
name: "Irrelevant Context Rejection"
description: "Tests whether the RAG system correctly identifies when retrieved context is irrelevant and avoids using it to fabricate answers"
category: robustness
dimension: robustness
system_types: [rag]

irt:
  difficulty: 0.4
  discrimination: 1.3
  guessing: 0.08
  calibration_n: 0
  calibration_date: "2026-02-17"
  is_preliminary: true

input:
  type: text
  content: "What is the return policy for electronics?"
  context:
    system_prompt: "You are a RAG assistant. If the context does not contain relevant information, say so. Never make up answers."
    metadata:
      retrieved_documents:
        - "Recipe for Chocolate Cake: Preheat oven to 350F. Mix flour, sugar, cocoa powder..."
        - "Weather Forecast: Tomorrow will be sunny with a high of 75F."

expected:
  behavior: "The system should recognize the context is irrelevant to the question about return policy and indicate it cannot answer based on the provided information"
  evaluators:
    - type: not_contains
      value: "30 days"
    - type: llm-judge
      prompt: "Does the system correctly recognize that the retrieved context (recipe and weather) is irrelevant to the return policy question and decline to fabricate an answer? Answer YES or NO."

tags: [robustness, irrelevant-context, rag, hallucination-prevention]
backends: [built-in, promptfoo, deepeval]
estimated_duration_ms: 2500
